<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tract-to-CCA Crosswalk — xwalk_tract2cca • cmapgeo</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Tract-to-CCA Crosswalk — xwalk_tract2cca" />
<meta property="og:description" content="This table contains a set of factors to apportion Census tract-level data
among Chicago Community Areas (CCAs). Seperate factors are provided for
apportioning housing unit, household, and population attributes. All factors
were determined by calculating the percentage of a tract's housing units,
households and population that were located in each of its component blocks,
according to the 2010 Decennial Census, and then assigning each block to a
CCA (based on the location of the block's centroid point)." />
<meta property="og:image" content="https://cmap-repos.github.io/cmapgeo/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmapgeo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CMAP-REPOS/cmapgeo/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tract-to-CCA Crosswalk</h1>
    <small class="dont-index">Source: <a href='https://github.com/CMAP-REPOS/cmapgeo/blob/master/R/data.R'><code>R/data.R</code></a></small>
    <div class="hidden name"><code>xwalk_tract2cca.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This table contains a set of factors to apportion Census tract-level data
among Chicago Community Areas (CCAs). Seperate factors are provided for
apportioning housing unit, household, and population attributes. All factors
were determined by calculating the percentage of a tract's housing units,
households and population that were located in each of its component blocks,
according to the 2010 Decennial Census, and then assigning each block to a
CCA (based on the location of the block's centroid point).</p>
    </div>

    <pre class="usage"><span class='va'>xwalk_tract2cca</span></pre>


    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>A tibble with 805 rows and 5
variables:</p><dl>
<dt>geoid_tract</dt><dd><p>Unique 11-digit tract ID, assigned by the Census
Bureau. Corresponds to <code>tract_sf</code>. Character.</p></dd>
<dt>cca_num</dt><dd><p>Numeric CCA ID, as assigned by the City of Chicago.
Corresponds to <code>cca_sf</code>. Integer.</p></dd>
<dt>hu_pct</dt><dd><p>Proportion of the tract's housing units (occupied or vacant)
located in the specified CCA. Multiply this by a tract-level measure of a
housing attribute (e.g. vacant homes) to estimate the CCA's portion.
Double.</p></dd>
<dt>hh_pct</dt><dd><p>Proportion of the tract's households (i.e. occupied housing
units) living in the specified CCA. Multiply this by a tract-level measure
of a household attribute (e.g. car-free households) to estimate the CCA's
portion. Double.</p></dd>
<dt>pop_pct</dt><dd><p>Proportion of the tract's total population (including group
quarters) living in the specified CCA. Multiply this by a tract-level
measure of a population attribute (e.g. race/ethnicity) to estimate the
CCA's portion. Double.</p></dd>

</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Generally speaking, tract boundaries align neatly with CCA boundaries as they
tend to follow similar features (e.g. rivers, major roads, rail lines) but
there are cases where the population, households and/or housing units in a
tract are split across multiple CCAs, or else are partially within the City
of Chicago and partially outside of it. For that reason, it is not
appropriate to use a one-to-one tract-to-CCA assignment to apportion Census
data among CCAs, and this crosswalk (or <code>xwalk_blockgroup2cca</code> for block
group-level data) should be used instead.</p>
<p>To use this crosswalk effectively, Census data should be joined to it (not
vice versa, since tract IDs appear multiple times in this table). Once the
data is joined, it should be multiplied by the appropriate factor (depending
whether the data of interest is measured at the housing unit, household or
person level), and then the result should be summed by CCA. If calculating
rates, this should only be done after the counts have been summed to CCA. The
resulting table can then be joined to <code>cca_sf</code> for mapping, if desired.</p>
<p>If your data is also available at the block group level, it is recommended
that you use that with <code>xwalk_blockgroup2cca</code> instead of the tract-level
allocation.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>

<span class='co'># View the tracts with population not fully contained in a single CCA</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>xwalk_tract2cca</span>, <span class='va'>pop_pct</span> <span class='op'>&lt;</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 22 x 5</span><span>
#&gt;    geoid_tract cca_num  hu_pct  hh_pct pop_pct
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>         </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 17031090200       9 0.983   0.984   0.987  
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 17031090300       9 0.958   0.956   0.951  
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 17031520500      52 0.997   0.997   0.996  
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 17031520500      55 0.002</span><span style='text-decoration: underline;'>61</span><span> 0.002</span><span style='text-decoration: underline;'>70</span><span> 0.003</span><span style='text-decoration: underline;'>95</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 17031520600      52 0.993   0.992   0.992  
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 17031520600      55 0.007</span><span style='text-decoration: underline;'>26</span><span> 0.007</span><span style='text-decoration: underline;'>60</span><span> 0.007</span><span style='text-decoration: underline;'>86</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 17031570500      57 0.992   0.992   0.988  
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 17031570500      62 0.007</span><span style='text-decoration: underline;'>75</span><span> 0.008</span><span style='text-decoration: underline;'>44</span><span> 0.012</span><span style='text-decoration: underline;'>2</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 17031770902      76 0.080</span><span style='text-decoration: underline;'>8</span><span>  0.076</span><span style='text-decoration: underline;'>8</span><span>  0.055</span><span style='text-decoration: underline;'>7</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 17031810400      10 0.072</span><span style='text-decoration: underline;'>3</span><span>  0.070</span><span style='text-decoration: underline;'>3</span><span>  0.052</span><span style='text-decoration: underline;'>5</span><span> 
#&gt; </span><span style='color: #949494;'># … with 12 more rows</span><span></div><div class='input'>
<span class='co'># Estimate CCA-level transit mode share from tract-level ACS data</span>
<span class='va'>df_tract</span> <span class='op'>&lt;-</span> <span class='fu'>tidycensus</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/tidycensus/man/get_acs.html'>get_acs</a></span><span class='op'>(</span>
  <span class='st'>"tract"</span>, state <span class='op'>=</span> <span class='st'>"IL"</span>, county <span class='op'>=</span> <span class='st'>"031"</span>, table <span class='op'>=</span> <span class='st'>"B08006"</span>,
  year <span class='op'>=</span> <span class='fl'>2019</span>, survey <span class='op'>=</span> <span class='st'>"acs5"</span>, output <span class='op'>=</span> <span class='st'>"wide"</span>
<span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rename</span><span class='op'>(</span>workers <span class='op'>=</span> <span class='va'>B08006_001E</span>, transit <span class='op'>=</span> <span class='va'>B08006_008E</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>GEOID</span>, <span class='va'>workers</span>, <span class='va'>transit</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Getting data from the 2015-2019 5-year ACS</span></div><div class='output co'>#&gt; <span class='message'>Loading ACS5 variables for 2019 from table B08006. To cache this dataset for faster access to ACS tables in the future, run this function with `cache_table = TRUE`. You only need to do this once per ACS dataset.</span></div><div class='output co'>#&gt; <span class='message'>No encoding supplied: defaulting to UTF-8.</span></div><div class='output co'>#&gt; <span class='error'>Error: You have supplied an invalid or inactive API key. To obtain a valid API key, visit https://api.census.gov/data/key_signup.html. To activate your key, be sure to click the link provided to you in the email from the Census Bureau that contained your key.</span></div><div class='input'>
<span class='va'>df_cca</span> <span class='op'>&lt;-</span> <span class='va'>xwalk_tract2cca</span> <span class='op'>%&gt;%</span>
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>df_tract</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"geoid_tract"</span> <span class='op'>=</span> <span class='st'>"GEOID"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>transit <span class='op'>=</span> <span class='va'>transit</span> <span class='op'>*</span> <span class='va'>pop_pct</span>,
         workers <span class='op'>=</span> <span class='va'>workers</span> <span class='op'>*</span> <span class='va'>pop_pct</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>cca_num</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarize_at</span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/vars.html'>vars</a></span><span class='op'>(</span><span class='va'>transit</span>, <span class='va'>workers</span><span class='op'>)</span>, <span class='va'>sum</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>transit_commute_pct <span class='op'>=</span> <span class='va'>transit</span> <span class='op'>/</span> <span class='va'>workers</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in is.data.frame(y): object 'df_tract' not found</span></div><div class='input'><span class='va'>df_cca</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'df_cca' not found</span></div><div class='input'>
<span class='co'># Join to cca_sf for mapping</span>
<span class='va'>cca_sf</span> <span class='op'>%&gt;%</span>
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>df_cca</span>, by <span class='op'>=</span> <span class='st'>"cca_num"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>transit_commute_pct</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_c</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in check_join(x, y): object 'df_cca' not found</span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Noel Peterson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


