<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Block Group-to-CCA Crosswalk — xwalk_blockgroup2cca • cmapgeo</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Block Group-to-CCA Crosswalk — xwalk_blockgroup2cca" />
<meta property="og:description" content="This table contains a set of factors to apportion Census block group-level
data among Chicago Community Areas (CCAs). Seperate factors are provided for
apportioning housing unit, household, and population attributes. All factors
were determined by calculating the percentage of a block group's housing
units, households and population that were located in each of its component
blocks, according to the 2010 Decennial Census, and then assigning each block
to a CCA (based on the location of the block's centroid point)." />
<meta property="og:image" content="https://cmap-repos.github.io/cmapgeo/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmapgeo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CMAP-REPOS/cmapgeo/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Block Group-to-CCA Crosswalk</h1>
    <small class="dont-index">Source: <a href='https://github.com/CMAP-REPOS/cmapgeo/blob/master/R/data.R'><code>R/data.R</code></a></small>
    <div class="hidden name"><code>xwalk_blockgroup2cca.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This table contains a set of factors to apportion Census block group-level
data among Chicago Community Areas (CCAs). Seperate factors are provided for
apportioning housing unit, household, and population attributes. All factors
were determined by calculating the percentage of a block group's housing
units, households and population that were located in each of its component
blocks, according to the 2010 Decennial Census, and then assigning each block
to a CCA (based on the location of the block's centroid point).</p>
    </div>

    <pre class="usage"><span class='va'>xwalk_blockgroup2cca</span></pre>


    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>A tibble with 2180 rows and
5 variables:</p><dl>
<dt>geoid_blkgrp</dt><dd><p>Unique 12-digit block group ID, assigned by the Census
Bureau. Corresponds to <code>blockgroup_sf</code>. Character.</p></dd>
<dt>cca_num</dt><dd><p>Numeric CCA ID, as assigned by the City of Chicago.
Corresponds to <code>cca_sf</code>. Integer.</p></dd>
<dt>hu_pct</dt><dd><p>Proportion of the block group's housing units (occupied or
vacant) located in the specified CCA. Multiply this by a block group-level
measure of a housing attribute (e.g. vacant homes) to estimate the CCA's
portion. Double.</p></dd>
<dt>hh_pct</dt><dd><p>Proportion of the block group's households (i.e. occupied
housing units) living in the specified CCA. Multiply this by a block
group-level measure of a household attribute (e.g. car-free households) to
estimate the CCA's portion.Double.</p></dd>
<dt>pop_pct</dt><dd><p>Proportion of the block group's total population (including
group quarters) living in the specified CCA. Multiply this by a block
group-level measure of a population attribute (e.g. race/ethnicity) to
estimate the CCA's portion. Double.</p></dd>

</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Generally speaking, block group boundaries align neatly with CCA boundaries
as they tend to follow similar features (e.g. rivers, major roads, rail
lines) but there are cases where the population, households and/or housing
units in a block group are split across multiple CCAs, or else are partially
within the City of Chicago and partially outside of it. For that reason, it
is not appropriate to use a one-to-one block group-to-CCA assignment to
apportion Census data among CCAs, and this crosswalk (or <code>xwalk_tract2cca</code>
for tract-level data) should be used instead.</p>
<p>To use this crosswalk effectively, Census data should be joined to it (not
vice versa, since block group IDs appear multiple times in this table). Once
the data is joined, it should be multiplied by the appropriate factor
(depending whether the data of interest is measured at the housing unit,
household or person level), and then the result should be summed by CCA. If
calculating rates, this should only be done after the counts have been summed
to CCA. The resulting table can then be joined to <code>cca_sf</code> for mapping, if
desired.</p>
<p>If your data is only available at the tract level, you can use
<code>xwalk_tract2cca</code> for a tract-level allocation instead.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>── <span style='font-weight: bold;'>Attaching packages</span><span> ─────────────────────────────────────── tidyverse 1.3.0 ──</span></div><div class='output co'>#&gt; <span class='message'></span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>tibble </span><span> 3.1.0     </span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>dplyr  </span><span> 1.0.5</span>
#&gt; <span class='message'></span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>tidyr  </span><span> 1.1.3     </span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>stringr</span><span> 1.4.0</span>
#&gt; <span class='message'></span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>readr  </span><span> 1.4.0     </span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>forcats</span><span> 0.5.1</span>
#&gt; <span class='message'></span><span style='color: #00BB00;'>✔</span><span> </span><span style='color: #0000BB;'>purrr  </span><span> 0.3.4     </span></div><div class='output co'>#&gt; <span class='message'>── </span><span style='font-weight: bold;'>Conflicts</span><span> ────────────────────────────────────────── tidyverse_conflicts() ──</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>✖</span><span> </span><span style='color: #0000BB;'>dplyr</span><span>::</span><span style='color: #00BB00;'>filter()</span><span> masks </span><span style='color: #0000BB;'>stats</span><span>::filter()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>✖</span><span> </span><span style='color: #0000BB;'>dplyr</span><span>::</span><span style='color: #00BB00;'>lag()</span><span>    masks </span><span style='color: #0000BB;'>stats</span><span>::lag()</span></div><div class='input'>
<span class='co'># View the block groups with households not fully contained in a single CCA</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>xwalk_blockgroup2cca</span>, <span class='va'>hh_pct</span> <span class='op'>&lt;</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 21 x 5</span><span>
#&gt;    geoid_blkgrp cca_num  hu_pct  hh_pct pop_pct
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 170310902004       9 0.947   0.949   0.954  
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 170310903001       9 0.958   0.956   0.951  
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 170314314001      43 1       1.00    1      
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 170315205003      52 0.992   0.991   0.987  
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 170315205003      55 0.008</span><span style='text-decoration: underline;'>28</span><span> 0.008</span><span style='text-decoration: underline;'>66</span><span> 0.012</span><span style='text-decoration: underline;'>9</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 170315206001      52 0.993   0.992   0.992  
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 170315206001      55 0.007</span><span style='text-decoration: underline;'>26</span><span> 0.007</span><span style='text-decoration: underline;'>60</span><span> 0.007</span><span style='text-decoration: underline;'>86</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 170315705002      57 0.987   0.987   0.980  
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 170315705002      62 0.012</span><span style='text-decoration: underline;'>5</span><span>  0.013</span><span style='text-decoration: underline;'>4</span><span>  0.019</span><span style='text-decoration: underline;'>9</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 170315805011      58 1       1.00    1      
#&gt; </span><span style='color: #949494;'># … with 11 more rows</span><span></div><div class='input'>
<span class='co'># Estimate CCA-level unemployment rate from block group-level ACS data</span>
<span class='va'>df_blkgrp</span> <span class='op'>&lt;-</span> <span class='fu'>tidycensus</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/tidycensus/man/get_acs.html'>get_acs</a></span><span class='op'>(</span>
  <span class='st'>"block group"</span>, state <span class='op'>=</span> <span class='st'>"IL"</span>, county <span class='op'>=</span> <span class='st'>"031"</span>, table <span class='op'>=</span> <span class='st'>"B23025"</span>,
  year <span class='op'>=</span> <span class='fl'>2019</span>, survey <span class='op'>=</span> <span class='st'>"acs5"</span>, output <span class='op'>=</span> <span class='st'>"wide"</span>
<span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rename</span><span class='op'>(</span>civ_lf <span class='op'>=</span> <span class='va'>B23025_003E</span>, unemp <span class='op'>=</span> <span class='va'>B23025_005E</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>GEOID</span>, <span class='va'>civ_lf</span>, <span class='va'>unemp</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Getting data from the 2015-2019 5-year ACS</span></div><div class='output co'>#&gt; <span class='message'>Loading ACS5 variables for 2019 from table B23025. To cache this dataset for faster access to ACS tables in the future, run this function with `cache_table = TRUE`. You only need to do this once per ACS dataset.</span></div><div class='input'>
<span class='va'>df_cca</span> <span class='op'>&lt;-</span> <span class='va'>xwalk_blockgroup2cca</span> <span class='op'>%&gt;%</span>
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>df_blkgrp</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"geoid_blkgrp"</span> <span class='op'>=</span> <span class='st'>"GEOID"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>civ_lf <span class='op'>=</span> <span class='va'>civ_lf</span> <span class='op'>*</span> <span class='va'>pop_pct</span>,
         unemp <span class='op'>=</span> <span class='va'>unemp</span> <span class='op'>*</span> <span class='va'>pop_pct</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>cca_num</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarize_at</span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/vars.html'>vars</a></span><span class='op'>(</span><span class='va'>civ_lf</span>, <span class='va'>unemp</span><span class='op'>)</span>, <span class='va'>sum</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>unemp_rate <span class='op'>=</span> <span class='va'>unemp</span> <span class='op'>/</span> <span class='va'>civ_lf</span><span class='op'>)</span>
<span class='va'>df_cca</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 77 x 4</span><span>
#&gt;    cca_num civ_lf  unemp unemp_rate
#&gt;      </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>       1 </span><span style='text-decoration: underline;'>32</span><span>157  </span><span style='text-decoration: underline;'>1</span><span>734       0.053</span><span style='text-decoration: underline;'>9</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>       2 </span><span style='text-decoration: underline;'>37</span><span>893  </span><span style='text-decoration: underline;'>2</span><span>736       0.072</span><span style='text-decoration: underline;'>2</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>       3 </span><span style='text-decoration: underline;'>37</span><span>513  </span><span style='text-decoration: underline;'>1</span><span>509       0.040</span><span style='text-decoration: underline;'>2</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>       4 </span><span style='text-decoration: underline;'>27</span><span>366  </span><span style='text-decoration: underline;'>1</span><span>206       0.044</span><span style='text-decoration: underline;'>1</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>       5 </span><span style='text-decoration: underline;'>21</span><span>857   572       0.026</span><span style='text-decoration: underline;'>2</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>       6 </span><span style='text-decoration: underline;'>75</span><span>850  </span><span style='text-decoration: underline;'>2</span><span>153       0.028</span><span style='text-decoration: underline;'>4</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>       7 </span><span style='text-decoration: underline;'>46</span><span>846  </span><span style='text-decoration: underline;'>1</span><span>255       0.026</span><span style='text-decoration: underline;'>8</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>       8 </span><span style='text-decoration: underline;'>65</span><span>253  </span><span style='text-decoration: underline;'>1</span><span>819       0.027</span><span style='text-decoration: underline;'>9</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>       9  </span><span style='text-decoration: underline;'>6</span><span>289.   97.7     0.015</span><span style='text-decoration: underline;'>5</span><span>
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>      10 </span><span style='text-decoration: underline;'>20</span><span>303.  741.      0.036</span><span style='text-decoration: underline;'>5</span><span>
#&gt; </span><span style='color: #949494;'># … with 67 more rows</span><span></div><div class='input'>
<span class='co'># Join to cca_sf for mapping</span>
<span class='va'>cca_sf</span> <span class='op'>%&gt;%</span>
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>df_cca</span>, by <span class='op'>=</span> <span class='st'>"cca_num"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>unemp_rate</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_c</a></span><span class='op'>(</span>direction <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span>
</div><div class='img'><img src='xwalk_blockgroup2cca-1.png' alt='' width='700' height='433' /></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Noel Peterson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


